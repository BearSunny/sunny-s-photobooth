<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunny's Photobooth</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Indie+Flower&family=Kalam&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
    <div class="container-fluid h-100">
        <div class="row h-100 justify-content-center align-items-center">
            <div class="col-md-8 col-lg-6">
                <div class="photobooth-container">
                    <div class="photo-strip" id="photoStrip">
                        <div class="strip-container">
                            <div class="photo-frame" id="frame1" data-frame-id="1"></div>
                            <div class="photo-frame" id="frame2" data-frame-id="2"></div>
                            <div class="photo-frame" id="frame3" data-frame-id="3"></div>
                            <div class="photo-frame" id="frame4" data-frame-id="4"></div>
                            <div class="photo-frame" id="frame5" data-frame-id="5"></div>
                            <div class="photo-frame" id="frame6" data-frame-id="6"></div>
                        </div>
                    </div>
                    
                    <div class="camera-container" id="cameraContainer">
                        <video id="camera" autoplay playsinline></video>
                        <canvas id="photoCanvas" style="display: none;"></canvas>
                    </div>
                    
                    <div class="controls mt-3">
                        <div class="row">
                            <div class="col-12 text-center mb-3">
                                <button id="captureBtn" class="btn btn-primary">Take Photo</button>
                                <button id="startOverBtn" class="btn btn-outline-secondary ms-2" style="display: none;">Start Over</button>
                                <button id="downloadBtn" class="btn btn-success ms-2" style="display: none;">Download Strip</button>
                            </div>
                        </div>
                        
                        <div class="toolbox p-3 mt-3">
                            <h5>Customize Your Photos</h5>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="stripColorPicker" class="form-label">Strip Color:</label>
                                    <input type="color" id="stripColorPicker" class="form-control form-control-color" value="#000000">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="fontSelector" class="form-label">Note Font:</label>
                                    <select id="fontSelector" class="form-select">
                                        <option value="'Caveat', cursive">Caveat</option>
                                        <option value="'Indie Flower', cursive">Indie Flower</option>
                                        <option value="'Kalam', cursive">Kalam</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-12">
                                    <div class="mb-3">
                                        <label for="noteText" class="form-label">Add Note:</label>
                                        <textarea id="noteText" class="form-control handwritten" placeholder="Write your note here..."></textarea>
                                    </div>
                                    <button id="addNoteBtn" class="btn btn-outline-primary mb-3">Add Note to Selected Frame</button>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-12">
                                    <label class="form-label">Add Stickers:</label>
                                    <div class="sticker-container">
                                        <img src="{{ url_for('static', filename='images/stickers/heart.png') }}" class="sticker" data-sticker="heart">
                                        <img src="{{ url_for('static', filename='images/stickers/star.png') }}" class="sticker" data-sticker="star">
                                        <img src="{{ url_for('static', filename='images/stickers/smile.png') }}" class="sticker" data-sticker="smile">
                                        <img src="{{ url_for('static', filename='images/stickers/crown.png') }}" class="sticker" data-sticker="crown">
                                        <img src="{{ url_for('static', filename='images/stickers/balloon.png') }}" class="sticker" data-sticker="balloon">
                                        <img src="{{ url_for('static', filename='images/stickers/cake.png') }}" class="sticker" data-sticker="cake">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fabric@5.2.1/dist/fabric.min.js"></script>
    <script src="{{ url_for('static', filename='js/photobooth.js') }}"></script>
</body>
</html>